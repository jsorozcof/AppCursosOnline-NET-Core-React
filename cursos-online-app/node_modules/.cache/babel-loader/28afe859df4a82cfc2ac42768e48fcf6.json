{"ast":null,"code":"import HttpCliente from '../Servicios/HttpCliente';\nimport axios from 'axios';\nconst instancia = axios.create();\ninstancia.CancelToken = axios.CancelToken;\ninstancia.isCancel = axios.isCancel;\nexport const registrarUsuario = usuario => {\n  return new Promise((resolve, eject) => {\n    instancia.post(\"/usuario/registrar\", usuario).then(response => {\n      resolve(response);\n    });\n  });\n};\nexport const obtenerUsuarioActual = dispatch => {\n  return new Promise((resolve, eject) => {\n    HttpCliente.get(\"/usuario\").then(response => {\n      if (response.data && response.data.imagenPerfil) {\n        let fotoPerfil = response.data.imagenPerfil;\n        const nuevoFile = 'data:image/' + fotoPerfil.extension + ';base64,' + fotoPerfil.data;\n        response.data.imagenPerfil = nuevoFile;\n      }\n\n      dispatch({\n        type: \"INICIAR_SESION\",\n        sesion: response.data,\n        autenticado: true\n      });\n      resolve(response);\n    }).catch(error => {\n      console.log('error actualizar', error);\n      resolve(error);\n    });\n  });\n};\nexport const actualizarUsuario = (usuario, dispatch) => {\n  return new Promise((resolve, eject) => {\n    HttpCliente.put('/usuario', usuario).then(response => {\n      if (response.data && response.data.imagenPerfil) {\n        let fotoPerfil = response.data.imagenPerfil;\n        const nuevoFile = 'data:image/' + fotoPerfil.extension + ';base64,' + fotoPerfil.data;\n        response.data.imagenPerfil = nuevoFile;\n      }\n\n      dispatch({\n        type: 'INICIAR_SESION',\n        sesion: response.data,\n        autenticado: true\n      });\n      resolve(response);\n    }).catch(error => {\n      resolve(error.response);\n    });\n  });\n};\nexport const loginUsuario = (usuario, dispatch) => {\n  return new Promise((resolve, eject) => {\n    instancia.post(\"/usuario/login\", usuario).then(response => {\n      if (response.data && response.data.imagenPerfil) {\n        let fotoPerfil = response.data.imagenPerfil;\n        const nuevoFile = \"data:image/\" + fotoPerfil.extension + \";base64,\" + fotoPerfil.data;\n        response.data.imagenPerfil = nuevoFile;\n      }\n\n      dispatch({\n        type: \"INICIAR_SESION\",\n        sesion: response.data,\n        autenticado: true\n      });\n      resolve(response);\n    }).catch(error => {\n      resolve(error.response);\n    });\n  });\n};","map":{"version":3,"sources":["C:/A_GitHub/AppCursosOnline-NET-Core-React/cursos-online-app/src/actions/UsuarioAction.js"],"names":["HttpCliente","axios","instancia","create","CancelToken","isCancel","registrarUsuario","usuario","Promise","resolve","eject","post","then","response","obtenerUsuarioActual","dispatch","get","data","imagenPerfil","fotoPerfil","nuevoFile","extension","type","sesion","autenticado","catch","error","console","log","actualizarUsuario","put","loginUsuario"],"mappings":"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","sourcesContent":["import HttpCliente from '../Servicios/HttpCliente';\r\nimport axios from 'axios';\r\n\r\nconst instancia = axios.create();\r\ninstancia.CancelToken = axios.CancelToken;\r\ninstancia.isCancel = axios.isCancel;\r\n\r\n\r\nexport const registrarUsuario = (usuario) => {\r\n    return new Promise((resolve, eject) => {\r\n        instancia.post(\"/usuario/registrar\", usuario).then((response) => {\r\n            resolve(response);\r\n        });\r\n    });\r\n};\r\n\r\n\r\nexport const obtenerUsuarioActual = (dispatch) => {\r\n    return new Promise((resolve, eject) => {\r\n        HttpCliente.get(\"/usuario\")\r\n            .then((response) => {\r\n                if (response.data && response.data.imagenPerfil) {\r\n                    let fotoPerfil = response.data.imagenPerfil;\r\n                    const nuevoFile = 'data:image/' + fotoPerfil.extension + ';base64,' + fotoPerfil.data;\r\n                    response.data.imagenPerfil = nuevoFile;\r\n                }\r\n                dispatch({\r\n                    type: \"INICIAR_SESION\",\r\n                    sesion: response.data,\r\n                    autenticado: true,\r\n                });\r\n\r\n                resolve(response);\r\n            })\r\n            .catch((error) => {\r\n                console.log('error actualizar', error);\r\n\r\n                resolve(error);\r\n            });\r\n    });\r\n};\r\n\r\n\r\nexport const actualizarUsuario = (usuario, dispatch) => {\r\n    return new Promise((resolve, eject) => {\r\n        HttpCliente.put('/usuario', usuario)\r\n            .then(response => {\r\n                if (response.data && response.data.imagenPerfil) {\r\n                    let fotoPerfil = response.data.imagenPerfil;\r\n                    const nuevoFile = 'data:image/' + fotoPerfil.extension + ';base64,' + fotoPerfil.data;\r\n                    response.data.imagenPerfil = nuevoFile;\r\n                }\r\n\r\n                dispatch({\r\n                    type: 'INICIAR_SESION',\r\n                    sesion: response.data,\r\n                    autenticado: true\r\n                });\r\n\r\n                resolve(response);\r\n            })\r\n            .catch(error => {\r\n                resolve(error.response);\r\n            })\r\n    });\r\n};\r\n\r\n\r\n\r\nexport const loginUsuario = (usuario, dispatch) => {\r\n    return new Promise((resolve, eject) => {\r\n        instancia.post(\"/usuario/login\", usuario).then(response => {\r\n            if(response.data && response.data.imagenPerfil){\r\n                let fotoPerfil = response.data.imagenPerfil;\r\n                const nuevoFile = \"data:image/\" + fotoPerfil.extension + \";base64,\" + fotoPerfil.data;\r\n                response.data.imagenPerfil = nuevoFile;\r\n            }\r\n\r\n\r\n            dispatch({\r\n                type: \"INICIAR_SESION\",\r\n                sesion: response.data,\r\n                autenticado: true\r\n            })\r\n\r\n\r\n            resolve(response);\r\n        }).catch(error => {\r\n            resolve(error.response);\r\n        })\r\n    });\r\n};"]},"metadata":{},"sourceType":"module"}